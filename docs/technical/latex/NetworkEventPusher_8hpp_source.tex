\hypertarget{NetworkEventPusher_8hpp_source}{}\doxysection{Network\+Event\+Pusher.\+hpp}
\label{NetworkEventPusher_8hpp_source}\index{gameEngine/include/gameEngine/system/NetworkEventPusher.hpp@{gameEngine/include/gameEngine/system/NetworkEventPusher.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//}}
\DoxyCodeLine{2 \textcolor{comment}{// Created by raphael on 12/22/23.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include "{}gameEngine/constants/Keybinds.hpp"{}}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include "{}gameEngine/UI/Window.hpp"{}}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}gameEngine/component/Displayable.hpp"{}}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include "{}gameEngine/ecs/Registry.hpp"{}}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include "{}gameEngine/ecs/system/System.hpp"{}}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include "{}gameEngine/event/IEventBindable.hpp"{}}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include "{}gameEngine/event/Events.hpp"{}}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include "{}gameEngine/network/INetworkController.hpp"{}}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <deque>}}
\DoxyCodeLine{16 }
\DoxyCodeLine{17 \textcolor{keyword}{namespace }GameEngine::System}
\DoxyCodeLine{18 \{}
\DoxyCodeLine{19 }
\DoxyCodeLine{20   \textcolor{keyword}{class }\mbox{\hyperlink{classGameEngine_1_1System_1_1NetworkEventPusher}{NetworkEventPusher}}}
\DoxyCodeLine{21     : \textcolor{keyword}{public} \mbox{\hyperlink{classGameEngine_1_1ECS_1_1System}{ECS::System}}}
\DoxyCodeLine{22     , \textcolor{keyword}{public} \mbox{\hyperlink{classGameEngine_1_1Event_1_1IEventBindable}{Event::IEventBindable}} \{}
\DoxyCodeLine{23    \textcolor{keyword}{public}:}
\DoxyCodeLine{24     \textcolor{keywordtype}{void} bindEvent(\mbox{\hyperlink{classGameEngine_1_1Event_1_1EventRegistry}{Event::EventRegistry}} \&eventRegistry) \textcolor{keyword}{final}}
\DoxyCodeLine{25     \{}
\DoxyCodeLine{26       eventRegistry.subscribeLambda<\mbox{\hyperlink{structGameEngine_1_1Event_1_1KeyboardInput}{Event::KeyboardInput}}>([\textcolor{keyword}{this}](\textcolor{keyword}{const} \mbox{\hyperlink{classGameEngine_1_1Event_1_1IEvent}{Event::IEvent}} \&eventRaw) \{}
\DoxyCodeLine{27         handleKeyboardEvent(eventRaw);}
\DoxyCodeLine{28       \});}
\DoxyCodeLine{29     \}}
\DoxyCodeLine{30 }
\DoxyCodeLine{31     \textcolor{keywordtype}{void} update(\mbox{\hyperlink{classGameEngine_1_1Network_1_1INetworkController}{Network::INetworkController}} \&networkInstance)}
\DoxyCodeLine{32     \{}
\DoxyCodeLine{33       \textcolor{keywordflow}{while} (!commandQueue.empty()) \{}
\DoxyCodeLine{34         \textcolor{keyword}{auto} \textcolor{keyword}{event} = commandQueue.front();}
\DoxyCodeLine{35         commandQueue.pop();}
\DoxyCodeLine{36         networkInstance.sendKey(event.key);}
\DoxyCodeLine{37       \}}
\DoxyCodeLine{38     \};}
\DoxyCodeLine{39 }
\DoxyCodeLine{40     \textcolor{keywordtype}{void} handleKeyboardEvent(\textcolor{keyword}{const} \mbox{\hyperlink{classGameEngine_1_1Event_1_1IEvent}{GameEngine::Event::IEvent}} \&eventRaw)}
\DoxyCodeLine{41     \{}
\DoxyCodeLine{42       \textcolor{keyword}{auto} \textcolor{keyword}{event} = \textcolor{keyword}{dynamic\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{structGameEngine_1_1Event_1_1KeyboardInput}{GameEngine::Event::KeyboardInput}} \&\textcolor{keyword}{>}(eventRaw);}
\DoxyCodeLine{43       commandQueue.push(event);}
\DoxyCodeLine{44     \}}
\DoxyCodeLine{45 }
\DoxyCodeLine{46    \textcolor{keyword}{private}:}
\DoxyCodeLine{47     std::queue<GameEngine::Event::KeyboardInput>}
\DoxyCodeLine{48       commandQueue \{\}; }
\DoxyCodeLine{49   \};}
\DoxyCodeLine{50 \} \textcolor{comment}{// namespace Client::System::Network}}

\end{DoxyCode}
